paths:
  project_root: .
  data_root: ./data
  output_root: ./outputs
  logs_root: ./logs

ingest:
  include_categories:
    - 人物物体一致性
    - 物体一致性
    - 物理变化
  recursive: true
  max_images_per_category: 1000

filter:
  enabled: true
  min_width: 512
  min_height: 512
  reject_grayscale: true
  reject_borders: false

backends:
  use_modelscope: true
  layered_backend: qwen
  edit_backend: qwen
  device: cpu

modelscope:
  enabled: true
  cache_dir: /data/modelscope_cache
  qwen_layered_model_dir: qwen/Qwen-Image-Layered
  qwen_edit_model_dir: Qwen/Qwen-Image-Edit

generate:
  dry_run: false
  category_to_task:
    人物物体一致性: consistency_edit
    物体一致性: semantic_edit
    物理变化: structural_edit
  subtypes:
    structural_edit: move
    semantic_edit: replace
    consistency_edit: identity

qa:
  allowed_region_dilation_px: 7
  max_mse_outside_region: 2.0
  min_ssim_outside_region: 0.995
  max_changed_pixel_ratio_outside_region: 0.01

pipeline:
  ingest: true
  decompose: true
  generate: true
  export: true
  qa: true
  resume: true

json_logs: true
