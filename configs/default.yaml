paths:
  project_root: .
  data_root: ./data
  output_root: ./outputs
  logs_root: ./logs

ingest:
  include_categories:
    - 人物物体一致性
    - 物体一致性
    - 物理变化
  recursive: true
  max_images_per_category: 1

filter:
  enabled: true
  min_width: 128
  min_height: 128
  reject_grayscale: false
  reject_borders: false

backends:
  use_modelscope: false
  layered_backend: mock
  edit_backend: opencv
  device: cpu

services:
  api_mode: false
  request_batch_size: 1
  layered:
    enabled: false
    endpoint: http://127.0.0.1:8101
    timeout_sec: 120
    max_retries: 2
    backoff_sec: 1.0
    send_mode: base64
    fallback_to_mock: true
  edit:
    enabled: false
    endpoint: http://127.0.0.1:8102
    timeout_sec: 180
    max_retries: 2
    backoff_sec: 1.0
    send_mode: base64
    fallback_to_mock: true

modelscope:
  enabled: false
  cache_dir: null
  qwen_layered_model_dir: null
  qwen_edit_model_dir: null

generate:
  dry_run: false
  category_to_task:
    人物物体一致性: consistency_edit
    物体一致性: semantic_edit
    物理变化: structural_edit
  subtypes:
    structural_edit: move
    semantic_edit: delete
    consistency_edit: identity

qa:
  allowed_region_dilation_px: 7
  max_mse_outside_region: 4.0
  min_ssim_outside_region: 0.98
  max_changed_pixel_ratio_outside_region: 0.02

pipeline:
  ingest: true
  decompose: true
  generate: true
  export: true
  qa: true
  resume: false

json_logs: true
